<!DOCTYPE html>
<html lang="da">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gæt et tal</title>
    <link rel="stylesheet" href="">
</head>

<body>
    <h1>Gæt et tal</h1>
    <p>Indtast et tal mellem 0 og 20 og se om du kan gætte det rigtige</p>

    <div class="resultatParagrafer">
        <p class="gaet"></p>
    </div>

    <label for="gaetFelt">Skriv et svar:</label><input type="text" id="gaetFelt" class="gaetFelt">
    <input type="submit" value="Send svar" class="gaetSend">
    <script>
        let gaetOptaelling = 1;
        let genstartKnap;
        const gaet = document.querySelector(".gaet");
        const gaetSend = document.querySelector(".gaetSend");
        const gaetFelt = document.querySelector(".gaetFelt");
        let brugerGaet = Number(gaetFelt.value);
        let randomTal = Math.floor((Math.random() * 20) + 0);
        console.log(`Tallet er nu ${randomTal}`);


        document.querySelector(".gaetSend").addEventListener("click", checkGaet);

        function checkGaet() {
            if (brugerGaet === randomTal) {
                console.log(`Tillykke du har vundet med ${gaetOptaelling} gæt`);
                setGameOver();
            } else if (gaetOptaelling === 10) {
                console.log("Du har tabt!");
            } else {
                console.log("Forkert");
                if (brugerGaet < randomTal) {
                    console.log("Sidste gæt var for lavt");
                } else if (brugerGaet > randomTal) {
                    console.log("Sidste gæt var for højt");
                }
            }

            gaetOptaelling++;
            gaetFelt.value = "";


            gaetOptaelling === 1

            function setGameOver() {
                gaetFelt.disabled = true;
                gaetSend.disabled = true;
                genstartKnap = document.createElement("button");
                genstartKnap.textContent = "Start nyt spil";
                document.body.append(genstartKnap);
                genstartKnap.addEventListener("click", resetGame);
            }

            function resetGame() {
                gaetOptaelling = 0;

                const genstartParagrafer = document.querySelectorAll(".resultatParagrafer p");
                for (let i = 0; i < genstartParagrafer.length; i++) {

                }

                gaetFelt.disabled = false;
                gaetSend.disabled = false;

                randomTal = Math.floor(Math.random() * 20) + 0;
            }
        }

    </script>
</body>

</html>
